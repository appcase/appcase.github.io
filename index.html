<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8'>
		<meta http-equiv='X-UA-Compatible'>
		<meta name="viewport" content='width=device-width, initial-scale=1, user-scalable=no, maximum-scale=1, minimum-scale=1'>
		<title>AppCase</title>
		<meta name='description' content="A collection of simple web applications (webapps) created by JavaScript, HTML and CSS.">
		<meta name='author' content='theapps.in'>
		<meta name='apple-mobile-web-app-capable' content='yes'>
		<meta name='mobile-web-app-capable' content='yes'>
	  	<link rel='shortcut icon' href='favicon.png' type='image/png'>
		<link rel='manifest' href='../manifest.json'> 
		<link href="../css/app.css" rel="stylesheet">
		<script src="../js/jquery.min.js"></script>
		<script src="../js/app.js"></script>
		<script>
			if('serviceWorker' in navigator){navigator.serviceWorker.register('sw.js').then(function(reg){}).catch(function(err){});}
		</script>
  	</head>
  	<body>
		<div id='r_container'>
			<img src='../res/logo.png' width=70 height=70 style='border-radius:50%;'>
			<p style='color:purple;'>AppCase: a collection of simple web apps &amp; games</p>
			<p style='margin:auto;width:35%;margin-bottom:15px;'><button id='install-button' style='width:100%'>Install AppCase</button></p>
			<div style='clear:both;padding:10px;background-color:peachpuff;margin:3px;border:1px solid #000000;border-radius:9px;padding-bottom:0;'>
				<a href='/elevator'><img src='../res/elevator.svg' width=50 height=50 style='float:left;padding:5px;'></a>
				<p style='margin:1px;text-align:left;color:blue;padding-bottom:5px;font-size:18px;'><a href='/elevator'><b>Office Elevator</b></a></p>
				<p style='margin-top:0px;text-align:left;color:#333333;'>As an elevator controller of a multi storeyed office building how do you keep your visitors happy by keeping their wait time in the elevator queue to the minimum. Give it a try! Enjoy playing the game.</p>
			</div>			
		</div>
	</body>
</html>
<script>
	let deferredPrompt;
	const addBtn = document.getElementById('install-button');
	addBtn.style.display = 'none';
	window.addEventListener('beforeinstallprompt', (e) => {
		e.preventDefault();
		deferredPrompt = e;
		addBtn.style.display = 'block';
		addBtn.addEventListener('click', (e) => {
			addBtn.style.display = 'none';
			deferredPrompt.prompt();
			deferredPrompt.userChoice.then((choiceResult) => {
				deferredPrompt = null;
			});
		});
	});
</script>

